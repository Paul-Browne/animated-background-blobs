var S=t=>t.map(r=>`radial-gradient(at ${r.x}% ${r.y}%, ${r.color} 0px, transparent 50%)`).join(","),w=({width:t,height:r,opacity:n=.5,baseFrequency:o=2,numOctaves:e=1,type:a="fractalNoise",grayScale:i=!0}={})=>`"data:image/svg+xml,%3Csvg viewBox='0 0 ${t} ${r}' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='${a}' baseFrequency='${o}' numOctaves='${e}' stitchTiles='stitch'/%3E${i?"%3CfeColorMatrix type='matrix' values='0.33 0.33 0.33 0 0 0.33 0.33 0.33 0 0 0.33 0.33 0.33 0 0 0 0 0 1 0' /%3E":""}%3C/filter%3E%3Crect opacity='${n}' width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"`,l=t=>Math.round(t*10)/10,E=t=>t.map(r=>{let{x:n,y:o,vx:e,vy:a,color:i}=r;return(n+e>100||n+e<0)&&(e=-e),(o+a>100||o+a<0)&&(a=-a),{x:l(n+e),y:l(o+a),vx:l(e),vy:l(a),color:i}}),M=abb=({element:t,background:r="#a5d798",colors:n=["red","violet","magenta","cyan","orange"],speed:o=1,opacity:e=1,saturate:a=1,invert:i=!1,blur:b=0,grain:{strength:f=1,opacity:y=.5,blur:$=0}={}}={})=>{if(!t)return;let u=new CSSStyleSheet;document.adoptedStyleSheets=[u];let d=n.map(c=>({x:Math.random()*100,y:Math.random()*100,vx:(Math.random()-.5)*o,vy:(Math.random()-.5)*o,color:c})),g=1e3/60,s;abb.store=abb.store||{},abb.store[t]&&cancelAnimationFrame(abb.store[t]);function h(c){abb.store[t]=requestAnimationFrame(h),s=s||c;let p=c-s;if(p>g){o||cancelAnimationFrame(abb.store[t]),s=c-p%g;let v=`${t}:before{opacity:${e};background-color:${r};background-image:${S(d)};filter:saturate(${a}) invert(${i?1:0}) blur(${b}px);}`;if(y&&f){let{width:x,height:m}=document.querySelector(t).getBoundingClientRect(),C=w({width:x,height:m,opacity:y,baseFrequency:2/f});u.replaceSync(`${t}:after{background:url(${C});${$?`filter:blur(${$}px);`:""}}${v}`)}else u.replaceSync(v);d=E(d)}}h()};export{M as default};
//# sourceMappingURL=abb.esm.min.js.map
